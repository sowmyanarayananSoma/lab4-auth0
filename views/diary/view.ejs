<%- contentFor('head') %>
  <style>
    .entry-header {
      border-bottom: 1px solid #e2e8f0;
      padding-bottom: 1.5rem;
      margin-bottom: 2rem;
    }
    .entry-title {
      color: #2d3748;
      font-size: 2.25rem;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 1rem;
    }
    .entry-meta {
      color: #718096;
      font-size: 0.9375rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .entry-content {
      color: #4a5568;
      font-size: 1.125rem;
      line-height: 1.7;
      white-space: pre-line;
    }
    .entry-content p {
      margin-bottom: 1.5rem;
    }
    .entry-actions {
      border-top: 1px solid #e2e8f0;
      padding-top: 2rem;
      margin-top: 3rem;
    }
    .mood-display {
      font-size: 1rem;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }
    .private-badge {
      background-color: #fef2f2;
      color: #dc2626;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8125rem;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 0.375rem;
    }
  </style>
<%- contentFor('body') %>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-8">
      <article class="entry">
        <header class="entry-header">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h1 class="entry-title"><%= entry.title || 'Untitled Entry' %></h1>
              <div class="entry-meta">
                <span>
                  <i class="bi bi-calendar3 me-1"></i>
                  <%= new Date(entry.date).toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                  }) %>
                </span>
                <% if (entry.isPrivate) { %>
                  <span class="private-badge">
                    <i class="bi bi-lock-fill"></i> Private
                  </span>
                <% } %>
              </div>
            </div>
            <span class="mood-display <%= 
              entry.mood === 'happy' ? 'bg-success text-white' : 
              entry.mood === 'sad' ? 'bg-info text-white' :
              entry.mood === 'excited' ? 'bg-warning text-dark' :
              entry.mood === 'angry' ? 'bg-danger text-white' :
              entry.mood === 'grateful' ? 'bg-success text-white' :
              entry.mood === 'tired' ? 'bg-secondary text-white' :
              entry.mood === 'loved' ? 'bg-danger text-white' : 'bg-dark text-white'
            %>">
              <i class="bi <%= 
                entry.mood === 'happy' ? 'bi-emoji-smile' : 
                entry.mood === 'sad' ? 'bi-emoji-frown' :
                entry.mood === 'excited' ? 'bi-emoji-laughing' :
                entry.mood === 'angry' ? 'bi-emoji-angry' :
                entry.mood === 'grateful' ? 'bi-emoji-heart-eyes' :
                entry.mood === 'tired' ? 'bi-emoji-yawn' :
                entry.mood === 'loved' ? 'bi-heart-fill' : 'bi-emoji-neutral'
              %>"></i>
              <span><%= entry.mood ? entry.mood.charAt(0).toUpperCase() + entry.mood.slice(1) : 'Neutral' %></span>
            </span>
          </div>
        </header>
        
        <div class="entry-content">
          <%= entry.content %>
        </div>
        
        <footer class="entry-actions">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/diary" class="btn btn-outline-secondary">
              <i class="bi bi-arrow-left me-2"></i> Back to Entries
            </a>
            <div class="d-flex gap-2">
              <a href="/diary/<%= entry._id %>/edit" class="btn btn-outline-primary">
                <i class="bi bi-pencil me-2"></i> Edit
              </a>
              <form action="/diary/<%= entry._id %>?_method=DELETE" method="POST" class="d-inline">
                <button type="submit" class="btn btn-outline-danger" 
                        onclick="return confirm('Are you sure you want to delete this entry? This action cannot be undone.')">
                  <i class="bi bi-trash me-2"></i> Delete
                </button>
              </form>
            </div>
          </div>
        </footer>
      </article>
    </div>
  </div>
</div>
